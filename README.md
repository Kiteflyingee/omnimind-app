# OmniMind Mobile - ç¥ç»ä¸­æ¢

OmniMind æ˜¯ä¸€æ¬¾å…·å¤‡â€œæ·±åº¦è¿›åŒ–èƒ½åŠ›â€çš„ç§»åŠ¨ç«¯ä¼˜å…ˆ AI åŠ©æ‰‹ã€‚å®ƒä¸ä»…æ˜¯ä¸€ä¸ªå¯¹è¯ç•Œé¢ï¼Œæ›´æ˜¯ä¸€ä¸ªé›†æˆäº† **åˆ†å±‚è®°å¿†ç³»ç»Ÿ**ã€**æ·±åº¦æ¨ç†å¼•æ“** ä¸ **è‡ªä¸»å·¥å…·è°ƒåº¦** çš„æ™ºèƒ½ä¸­æ¢ã€‚

åŸºäº Kimi-2.5 (k2-thinking) å¤§æ¨¡å‹æ„å»ºï¼Œæœ¬é¡¹ç›®æ—¨åœ¨æä¾›æœ€æè‡´çš„ AI äº¤äº’ä½“éªŒä¸é•¿æ•ˆä¸ªæ€§åŒ–è®°å¿†ã€‚

---

## âœ¨ é¡¹ç›®ç‰¹è‰²ä¸è®¾è®¡å“²å­¦

### 1. ğŸ§  ç¥ç»è„‰å†²å¼è§†è§‰è®¾è®¡ (Neuro-Central Aesthetics)
*   **æè‡´ä¸æ»‘**ï¼šé‡‡ç”¨ Framer Motion æ„å»ºçš„è„‰å†²å¼äº¤äº’ï¼Œæ¶ˆæ¯æ°”æ³¡å…·æœ‰å¾®å°çš„ä½ç§»ä¸ç¼©æ”¾åé¦ˆï¼Œæ¨¡æ‹ŸçœŸå®çš„ç¥ç»çªè§¦ä¼ é€’ã€‚
*   **ç§»åŠ¨ç«¯ä¼˜å…ˆ**ï¼šé’ˆå¯¹ iOS/Android æ²‰æµ¸å¼ä½“éªŒä¼˜åŒ–ï¼Œæ”¯æŒè¶…å®½è¡¨æ ¼å±€éƒ¨æ»šåŠ¨ï¼Œæ‹’ç»é¡µé¢æ‹‰ä¼¸ã€‚
*   **æ¯›ç»ç’ƒç¾å­¦**ï¼šå…¨å±€ç»ç’ƒæ‹Ÿæ€ï¼ˆGlassmorphismï¼‰è®¾è®¡ï¼Œç»“åˆåŠ¨æ€æ¸å˜èƒŒæ™¯ï¼Œè¥é€ æœªæ¥ç§‘æŠ€æ„Ÿã€‚

### 2. ğŸ—„ï¸ åŒå±‚åˆ†å±‚è®°å¿†å¼•æ“ (Hybrid Memory Engine)
OmniMind è§£å†³äº†æ¨¡å‹â€œè½¬å¤´å°±å¿˜â€çš„ç—›ç‚¹ï¼š
*   **ç¡¬æ€§å¥‘çº¦ (Hard Rules)**ï¼šåŸºäº SQLiteã€‚ç”¨äºå­˜å‚¨ç”¨æˆ·å¼ºåˆ¶è¦æ±‚ AI éµå®ˆçš„è§„åˆ™ã€èº«ä»½è®¾å®šæˆ–æ°¸ä¹…ä¹ æƒ¯ï¼Œå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ã€‚
*   **æŸ”æ€§äº‹å® (Soft Facts)**ï¼šé›†æˆ Mem0 æ¶æ„ã€‚è‡ªåŠ¨æå–å¯¹è¯ä¸­çš„äº‹å®ç‰‡æ®µï¼Œé€šè¿‡å‘é‡æ£€ç´¢åœ¨åç»­å¯¹è¯ä¸­å®ç°â€œè®°å¿†å¬å›â€ã€‚

### 3. ğŸ” æ·±åº¦æ¨ç†æµ (Deep Thinking Stream)
*   **å®æ—¶é€æ˜**ï¼šå®Œæ•´å±•ç¤º Kimi çš„â€œå¿ƒè·¯å†ç¨‹â€ã€‚æ‚¨å¯ä»¥å®æ—¶çœ‹åˆ° AI å¦‚ä½•æ‹†è§£é—®é¢˜ã€æƒè¡¡æ–¹æ¡ˆä»¥åŠè°ƒç”¨å·¥å…·å‰çš„ç­–ç•¥åˆ†æã€‚
*   **äº¤äº’å¼æŠ˜å **ï¼šæ”¯æŒæ€è€ƒè¿‡ç¨‹çš„å³æ—¶åˆ‡æ¢ä¸å†å²å›æº¯ã€‚å†å²å¯¹è¯ä¸­çš„æ€è€ƒé»˜è®¤å±•å¼€ï¼Œç‚¹å‡»å›¾æ ‡å³å¯å¿«é€Ÿæ”¶ç¼©ï¼Œå…¼é¡¾æŠ€æœ¯æ·±åº¦ä¸é˜…è¯»æ•ˆç‡ã€‚

### 4. ğŸ› ï¸ è‡ªä¸»æ‰§è¡Œä¸å®¹é”™ (Resilient Tool-Use)
*   **å¤šè½®å·¥å…·é“¾**ï¼šAI å¯è‡ªä¸»å†³å®šè°ƒç”¨æœç´¢ã€å­˜å‚¨ã€è®°å¿†æ£€ç´¢ç­‰å¤šç§å·¥å…·ï¼Œå¹¶æ ¹æ®æ‰§è¡Œç»“æœè¿›è¡Œå¤šè½®è‡ªæˆ‘ä¿®æ­£ã€‚
*   **æ–­ç‚¹è‡ªæ„ˆ (History Repair)**ï¼šé’ˆå¯¹å¸¸è§çš„ API çŠ¶æ€é”™è¯¯è¿›è¡Œäº†æ·±åº¦åŠ å›ºã€‚å¦‚æœå¯¹è¯å› ç½‘ç»œæ•…éšœæˆ–æœåŠ¡å™¨é‡å¯è€Œä¸­æ–­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¿®å¤å—æŸçš„å†å²åºåˆ—ï¼Œç¡®ä¿ä¼šè¯æ— æ„Ÿæ¢å¤ã€‚

### 5. âš¡ é›¶å»¶è¿Ÿç«¯åˆ°ç«¯åŠ é€Ÿ
*   **åè®®ä¼˜åŒ–**ï¼šè‡ªç ”æµå¼è§£æçŠ¶æ€æœºï¼Œæ”¯æŒå¤šéƒ¨åˆ†ï¼ˆReasoning + Contentï¼‰å¹¶å‘æ¸²æŸ“ã€‚
*   **ç½‘ç»œåŠ é€Ÿ**ï¼šé€šè¿‡åç«¯ç›´è¿æ¨¡å¼ï¼ˆEnv Bypassï¼‰ï¼Œå½»åº•æ¶ˆé™¤äº† Next.js ä»£ç†å¯¼è‡´çš„ç¼“å†²é»‘æ´ã€‚

---

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

-   **å¤šæ¨¡æ€äº¤äº’**ï¼šæ”¯æŒé«˜æ¸…å›¾ç‰‡åˆ†æï¼ŒAI å¯æ ¹æ®å›¾ç‰‡å†…å®¹æå–å…³é”®ä¿¡æ¯å¹¶å­˜å…¥é•¿æ•ˆè®°å¿†ã€‚
-   **å…¨å±€æœç´¢å¢å¼º**ï¼šå†…ç½®é«˜æ€§èƒ½æœç´¢å·¥å…·ï¼Œç»“åˆ Kimi çš„åˆè§„èƒ½åŠ›ï¼Œæä¾›æœ€æ–°ä¿¡æ¯çš„æ·±åº¦ç ”åˆ¤ã€‚
-   **è®°å¿†çœ‹æ¿**ï¼šæ”¯æŒæ‰‹åŠ¨ç®¡ç†å’Œåˆ é™¤å·²å­˜å‚¨çš„ç¡¬æ€§è§„åˆ™ä¸è®°å¿†ç‰‡æ®µã€‚
-   **å“åº”å¼å¸ƒå±€**ï¼šå®Œç¾é€‚é…ä» iPhone SE åˆ° 13-inch iPad çš„æ‰€æœ‰å±å¹•å°ºå¯¸ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

-   **Frontend**: Next.js 15 (App Router) / Tailwind CSS 4 / Lucide Icons
-   **Backend**: Python 3.11+ / FastAPI / Async OpenAI SDK
-   **Database**: SQLite (Local) / Mem0 (Semantic Memory)
-   **Deployment**: Support for Nginx, PM2, and Docker (with Proxy)

---

## ğŸ“¦ ç”Ÿäº§ç¯å¢ƒå¿«é€Ÿéƒ¨ç½²

### æ–¹æ¡ˆ Aï¼šDocker (æ¨è)

> [!IMPORTANT]
> **ç¯å¢ƒå˜é‡å…³é”®è¯´æ˜**ï¼šç”±äº Next.js çš„ç‰¹æ€§ï¼Œ`NEXT_PUBLIC_` å˜é‡å¿…é¡»åœ¨**æ„å»ºæ—¶ (Build Time)** æ³¨å…¥ã€‚

1. **é…ç½®å¹¶å¯åŠ¨**ï¼š
   ```bash
   # å¦‚æœå‰ç«¯ç›´è¿åç«¯ï¼Œè®¾ç½®æ‚¨çš„æœåŠ¡å™¨å…¬ç½‘ IP æˆ–åŸŸå
   export NEXT_PUBLIC_API_URL=http://<æ‚¨çš„æœåŠ¡å™¨IP>:8000
   
   # å¦‚æœé…åˆ Nginx åå‘ä»£ç†ä½¿ç”¨ï¼Œè¯·è®¾ä¸ºç©ºå­—ç¬¦ä¸²
   export NEXT_PUBLIC_API_URL=""
   
   docker-compose build --build-arg NEXT_PUBLIC_API_URL=$NEXT_PUBLIC_API_URL
   docker-compose up -d
   ```

2. **è‡ªåŠ¨é€»è¾‘**ï¼š`docker-compose.yml` å·²é…ç½®ä¸ºè‡ªåŠ¨è¯»å–ç¯å¢ƒä¸­çš„è¯¥å˜é‡å¹¶é€ä¼ ç»™æ„å»ºè¿‡ç¨‹ã€‚

### æ–¹æ¡ˆ Bï¼šæ‰‹åŠ¨éƒ¨ç½²

#### 1. éƒ¨ç½²å‰å‡†å¤‡
- **ç¯å¢ƒ**: ç¡®ä¿å·²æŒ‰ç…§ [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„) å®‰è£… Node.js å’Œ Pythonã€‚
- **é…ç½®**: å¤åˆ¶ [`.env.example`](./.env.example) ä¸º `.env.local` å¹¶å¡«å†™ API Keyï¼š
  ```bash
  cp .env.example .env.local
  ```

#### 2. è¿è¡Œåç«¯ (FastAPI)
```bash
cd backend
python3 -m venv venv && source venv/bin/activate
pip install -r requirements.txt
pm2 start "venv/bin/python main.py" --name "omnimind-backend"
```

#### 3. è¿è¡Œå‰ç«¯ (Next.js)
```bash
npm install && npm run build
pm2 start npm --name "omnimind-frontend" -- start
```

#### 4. é…ç½® Nginx (å¿…éœ€)
ç”±äº AI å›å¤é‡‡ç”¨æµå¼è¾“å‡ºï¼Œå¿…é¡»ä½¿ç”¨ Nginx åå‘ä»£ç†å¹¶ç¦ç”¨ç¼“å†²ã€‚è¯¦ç»†é…ç½®è¯·å‚è€ƒä¸‹æ–‡ã€‚

*è¯¦ç»†é…ç½®è¯·å‚è€ƒ `.env.local` ç¯å¢ƒå˜é‡è¯´æ˜ã€‚*

### âš ï¸ æµå¼è¾“å‡ºä¸ Nginx ç”Ÿäº§ç¯å¢ƒé…ç½® (é‡è¦)

åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¦‚æœä½¿ç”¨ Nginx è½¬å‘å¹¶å‘ç° AI å›å¤æ— æ³•é€å­—æ˜¾ç¤ºï¼Œé€šå¸¸æ˜¯å› ä¸º **Next.js çš„å†…éƒ¨ Rewrite ä»£ç†å±‚** äº§ç”Ÿäº†ç¼“å†²ã€‚

**è§£å†³æ–¹æ¡ˆï¼š** å»ºè®®åœ¨ Nginx ä¸­é…ç½®â€œç›´è¿è½¬å‘â€ï¼Œå³ç‰¹å®šçš„ API è·¯å¾„ï¼ˆå¦‚ `/chat`, `/sessions` ç­‰ï¼‰ç›´æ¥è½¬å‘åˆ°åç«¯ 8000 ç«¯å£ï¼Œè€Œä¸ç»è¿‡å‰ç«¯çš„ 3000 ç«¯å£è½¬å‘ã€‚

æˆ‘ä»¬åœ¨æ¨¡æ¿ä¸­å·²ç»é…ç½®å¥½äº†æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼š
ğŸ‘‰ [æŸ¥çœ‹æ¨èçš„ Nginx ç›´è¿é…ç½®æ¨¡æ¿ (nginx/omnimind.conf)](./nginx/omnimind.conf)

**æ ¸å¿ƒé…ç½®é¡¹ï¼š**
```nginx
location ~ ^/(chat|login|sessions|history|rules) {
    proxy_pass http://127.0.0.1:8000; # ç›´è¿åç«¯
    proxy_buffering off;
    proxy_set_header X-Accel-Buffering no;
    gzip off; # å¿…é¡»å…³é—­ gzip
}
```

---

## ğŸ“œ è®¸å¯åè®®

MIT License. æè‡´äº¤äº’ï¼Œæ™ºå¯æœªæ¥ã€‚